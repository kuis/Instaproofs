/*==========================================================================*\
  Module for keeping time-based date up-to-date
\*==========================================================================*/
"use strict";

module.exports = require('app/models/base-model').extend({
  props: {
    hours: ['number', true, 0],
    minutes: ['number', true, 0],
    seconds: ['number', true, 0],
    time: ['number', true, 0],
  },
  
  initialize: function () {
    this.update = this.update.bind(this);
    this._intervalId = setInterval(this.update, 500);
  },
  
  update: function () {
    var date = new Date();
    this.time = date.getTime();
    this.hours = date.getHours();
    this.minutes = date.getMinutes();
    this.seconds = date.getSeconds();
  },
  
  valueOf: function () {
    return this.time;
  },
});
