/*==========================================================================*\
  A single category on the event't categories listing
\*==========================================================================*/
"use strict";
var app = require('app');
var BaseView = require('app/base/base-view');

module.exports = BaseView.extend({
  viewType: 'category-item',
  template: require('app/templates').category['category-item'],
  
  initialize: function () {
    BaseView.prototype.initialize.apply(this, arguments);
    this.listenTo(app, 'reload-images', this.render);
  },
  
  bindings: {
    'model.locked': {
      type: function (el, val) {
        el.classList.toggle('locked', val);
        var img = this.model[this.model.locked ? 'thumb_blur_url' 
            : 'thumb_url'] || 'img/no-image.png';
        this.query('.bg').style.backgroundImage = 'url('+ img +')';
      },
      // type: 'booleanClass',
      // name: 'locked',
    },
  },
  
  events: {
    
  },
});
