- var classes = [], cats = model.categories, products = model.products;
- if (model.showcase) classes.push('showcased');
- if (model.locked) classes.push('locked');
  
//- - var imageURL = model.locked ? model.thumb_blur_url : model.thumb_url;
- var imageURL = model.thumb_url || 'img/no-image.png';
- imageURL = model.display_image ? imageURL : (model.thumb_blur_url || imageURL);

- var nl = model.name.length; // progressively shrink long titles
- var titleClass = nl >= 25 ? 'long-'+ Math.min(10, Math.floor((nl-25) / 10)) : '';
- var style = "background-image:url("+ imageURL +");"
- if (model.img_position) style += ' background-position:'+ model.img_position;

a.flexgrid-item.event-item(class= classes, href= "#events/"+ model.id)
  //- .bg(style= model.display_image ? ("background-image:url("+ imageURL +");") : "background-color: #444;")
  .bg(style= style)
  .border
  .spacer
  .info
    h3(class= titleClass)= model.name
    h4!= lz('LL', model.date)
    h5= model.type
