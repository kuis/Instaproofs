- var app = require('app');
- var ua = require('app/util/ua/ua');
- var classes = [];
//- - var noQty = model.size.no_qty || isProductSize;
- var noQty = model.size.no_qty;
- if (noQty) classes.push('no-qty');
- if (isProductSize) classes.push('product-size');
- if (model.photo && model.photo.pricing && model.photo.pricing.bulk_pricing_type === 'compound') classes.push('bulk-compound');
- var _colorId = model.color_id || colorId;
- var color = app.colors.get(_colorId);
.purchase-option(class=classes)
  .head
    .name
      //- span.full-name= model.size.display_name
      span.short-name
        = model.size.display_name
        if color.prefix !== 'original' 
          = ' ('+ app.colors.get(_colorId).short_name +')'
        if cartProduct
          span.spots-left!= lz('%d/%d left', cartProduct.spotsLeft[model.id], cartProduct.capacity[model.id])
      if model.size.description
        .info
    span.bulk-pricing
      .bulk-tip!= lz('Bulk pricing available')
    span.discount
    if model.size.width && model.size.height
      //- .crop(title="Adjust Crop")
      //- .crop(title="Click to adjust crop", style="background-image:url("+ photo.model.thumb_url +")")
      .crop(style="background-image:url("+ photo.model.getUrl(_colorId) +")")
        .crop-tip!= lz('Click to adjust crop')
        .crop-covers
          .crop-cover.top
          .crop-cover.right
          .crop-cover.bottom
          .crop-cover.left
        .borders
    //- .price.single= model.size.display_price
    .price.single
      span.original-price= model.display_original_price
      span.discounted-price= model.display_price
    if !noQty
      .qty
        //- input(type= ua.mobile ? "number" : "text", name="qty", value="0")
        input(type="number", name="qty", value="0")
        .minus
        .plus
        .hide-controls
    else
      .checkbox
    .price.final 
      span.base-final-price= model.formatMoney(0)
      span.discounted-final-price= model.formatMoney(0)
    
  .addons
