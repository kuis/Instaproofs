.crop-icon {
  // opacity: 0;
  transition: opacity 300ms, transform 300ms;
  // transform: translateY(-44px);
  
  cursor: pointer;
  
  display: none;
  pointer-events: none;
  &.displayed {
    display: block;
    pointer-events: auto;
  }
  
  .buy-form-fullscreen .qty-input-mode & {
    opacity: 0;
  }
  
  background: rgba(0,0,0,0.5);
  background: @active;
  background: center/cover no-repeat;
  
  height: 32px;
  margin-left: 15px;
  .dark-mode & { 
    box-shadow: inset 0 0 0 1px rgba(255,255,255,1);
    box-shadow: none;
    box-sizing: border-box;
    border: #777 1px solid;
  }
  // .dark-mode & { box-shadow: none; }
  
  > .borders {
    &:extend(.fill);
    box-shadow: inset 0 0 0 1px rgba(0,0,0,.1);
  }
  
  position: relative;
  
  // .buy-form-fullscreen & {
  //   margin-right: 15px;
  // }
  
  .desktop-ua &:hover > .crop-tip {
    display: block;
  }
  .cropping-mode & .crop-tip {
    display: none !important;
  }
  > .crop-tip {
    display: none;
    
    position: absolute;
    left: -10px;
    top: 3px;
    height: 26px;
    padding: 0 10px;
    border-radius: 2px;
    transform: translateX(-100%);
    
    font: 300 14px/26px @sans;
    white-space: nowrap;
    
    color: @white;
    background: rgba(0,0,0,0.7);
    background: @highlighted;
    
    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 8px;
      right: -5px;
      width: 0; 
      height: 0; 
      border-top: 5px solid transparent;
      border-bottom: 5px solid transparent;
      
      border-left: 5px solid rgba(0,0,0,0.7);
      border-left: 5px solid @highlighted;
    }
  }
  
  .crop-covers {
    &:extend(.fill);
    overflow: hidden;
  }
  .crop-cover {
    &:extend(.fill);
    // position: absolute;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,.8);
    background: rgba(100,100,100,.9);
    // background: @white;
    // background: #777;
    // .dark-mode & { background: @highlighted; }
    .dark-mode & { background: rgba(0,0,0,.9); }
    // background: @highlighted;
    
    &.top { top: -100%; bottom: auto; }
    &.right { left: 100%; right: auto; }
    &.bottom { top: 100%; bottom: auto; }
    &.left { left: -100%; right: auto; }
  }
  
  .desktop-ua &:hover .crop-cover {
    background: @highlighted;
  }
  
  &.no-thumb {
    .crop-covers, .borders {
      display: none;
    }
    
    background: none !important;
    line-height: 32px;
    text-align: center;
    
    .desktop-ua &:hover {
      color: @highlighted;
    }
    &:after {
      &:extend(.icon);
      &:extend(.icon.crop);
      vertical-align: -2px;
    }
  }
}
