"use strict";

var BaseModel = require('app/base/base-model');
var Options = require('./cart-product-photo-options-collection');

module.exports = BaseModel.extend({
  idAttribute: 'pid',
  props: {
    cat_id: 'number',     //OPTIONAL value
    pid: 'number',         //photo ID
    color_id: 'number',
  },
  collections: {
    options: Options,
  },
  
  session: {
    
  },
  derived: {
    id: { fn: function () {
      return this.pid+'-'+this.color_id;
    }},
    cart: { fn: function () {
      return this.collection.parent.cart;
    }},
    photo: { fn: function () {
      return this.cart.event.categories.get(this.cat_id).photos.get(this.pid);
    }},
  },
});
