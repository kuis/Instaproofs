/*==========================================================================*\
  Social sharing functionality
\*==========================================================================*/
"use strict";
var app = require('app');

module.exports = {
  popup: function (e, platform, pid, eid) {
    var href = this.getUrl(platform, pid, eid);
    var winWidth = 520;
    var winHeight = 350;
    switch (platform) {
      case 'googleplus':
        winWidth = 1020;
        winHeight = 520;
        break;
      case 'twitter':
        winWidth = 600;
        winHeight = 450;
        break;
    }
    var winTop = (screen.height / 2) - (winHeight / 2);
    var winLeft = (screen.width / 2) - (winWidth / 2);
    
    window.open(href, 'sharer', 'top='+ winTop +',left='+ winLeft +
        ',toolbar=0,status=0,width='+ winWidth +',height='+ winHeight);
    
    if (e && e.preventDefault) e.preventDefault();
    return false;
  },
  
  getUrl: function (platform, pid, eid) {
    return 'https://secure.instaproofs.com/social.php?url='+ app.url +
           '&platform='+ platform +
           '&eid='+ eid + '&pid=' + pid;
  },
};
