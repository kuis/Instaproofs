/*==========================================================================*\
  A 'dropdown' with a list of languages 
\*==========================================================================*/
"use strict";

var BaseView = require('app/base/base-view');
var app = require('app/');
var popup = require('app/popup/popup');

module.exports = BaseView.extend({
  viewType: 'languages',
  autoRender: true,
  template: require('app/templates').footer.languages,
  
  events: {
    'click .language-option': 'onClick',
  },
  
  render: function () {
    this.renderWithTemplate(this);
  },
  
  onClick: function (e) {
    var target = e.target.closest('.language-option');
    var id = target.getAttribute('data-id');
    app.i18n.select(id);
    this.render();
    popup.hide();
  },

});
