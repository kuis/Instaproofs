/*============================================================================*\
  English Locale Definition
\*============================================================================*/
"use strict";

var helpers = require('app/util/helpers/helpers'); 

function toOrdinal(num) {
	if (!num) return '0';
	num += '';
	var last = num.substr(num.length - 1, 1);
	var lastTwo = num.substr(num.length - 2, 2);
	if (last === '1' && lastTwo !== '11') return num +'st';
	if (last === '2' && lastTwo !== '12') return num +'nd';
	if (last === '3' && lastTwo !== '13') return num +'rd';
	return num +'th';
}

function getDiscountDescription(discounts) {
  var i;
  var hasSpecificSizes = false;
  var discount, amount, tempDiscount;
  var names = [];
  for (i = 0; i < discounts.length; i++) {
    //get the rounded discount percentage
    discount = discounts[i];
    tempDiscount = (discount.discount * 100);
    amount = (tempDiscount.toFixed(1) == Math.round(tempDiscount)) ?
    			Math.round(tempDiscount) :
    			tempDiscount.toFixed(1);
    amount += '%%';
    if (discount.type === 'size') {
    	hasSpecificSizes = true;
    	names.push(discount.name +"'s are "+ amount +' off');
    }
    else if (discount.type === 'allSizes') {
    	if (hasSpecificSizes) names.push('all other photos are '+ amount +' off');
	    else names.push('All photos are '+ amount +' off');
    }
    else if (discount.type === 'allProducts') {
    	names.push('All products are '+ amount +' off');
    }
  }
  
  return names.join(', ');
}

module.exports = {
	name: 'English',
	dictionary: {
		/*========================================================================*\
		  Global Dictionary
		\*========================================================================*/
		global: {
			// Page Path
			'You are here:': 'You are here:',
			'Home': 'Home',
			'Events': 'Events', // homepage 
			
			'%s. Offer ending in %s': function (discounts, timer) {
				var desc = getDiscountDescription(discounts);
				return desc +'. Offer ending in '+ timer +'.';
			},
			'%s. Offer ends %s': function (discounts, moment) {
				var desc = getDiscountDescription(discounts);
				return desc +'. Offer ends '+ moment.format('MMMM Do.');
			},
		},
			
			
			
		/*========================================================================*\
		  Main Fixed Nav Bar 
		\*========================================================================*/
		nav: {
			'Search Events': 'Search Events',
			'Favorites': 'Favorites',
			'Cart': 'Cart',
			'Menu': 'Menu',
		},
		
		
		
		/*========================================================================*\
		  Events List (Homepage)
		\*========================================================================*/
		events: {
			'Load More Events': 'Load More Events',
		
			// Filtering and sorting. ================================================
			// Some values have long and short variants for responsiveness.
			'Showcased Events': 'Showcased Events',
			'Showcased': 'Showcased',
		
			'Current': 'Current',
			'Upcoming': 'Upcoming',
			
			'All Events': 'All Events',
			'All': 'All',
			
			'Sort events by:': 'Sort events by:',
			
			'Event Name': 'Event Name',
			'Name': 'Name',
			
			'Event Date': 'Event Date',
			'Date': 'Date',
			
			'Event Type': 'Event Type',
			'Type': 'Type',
		},
		
		
		
		/*========================================================================*\
		  Event Page (Photo Categories and Products)
		\*========================================================================*/
		event: {
			'Photos': 'Photos',
			'Products': 'Products',
			'%d Photos': function (num) { // e.g. '25 Photos' or '1 Photo'
				return '%d Photo' + (num > 1 ? 's' : '');
			},
		},
		
		
		
		/*========================================================================*\
		  Category Page (Photos Grid)
		\*========================================================================*/
		category: {
			'Show More Photos': 'Show More Photos',
			'Slideshow': 'Slideshow',
			
			
			// A single photo's hover overlay ========================================
			// Length limit: 18 characters
			'View Larger Image': 'View Larger Image',
			'Buy': 'Buy',
			'In Cart': 'In Cart',
			'To Favorites': 'To Favorites',
			'Download': 'Download',
			'Share': 'Share',
		},
		
		/*========================================================================*\
		  Product Page
		\*========================================================================*/
		product: {
			'Added to Cart': 'Added to Cart',
		},

		/*========================================================================*\
		  Discount Codes
		\*========================================================================*/
		discount_code: {
			'%s discount': function (amount) {
				return helpers.formatMoney(amount, true) +' discount';
			},
			'%s off %s+ orders': function (amount, total) {
				return helpers.formatMoney(amount, true) +' discount for orders of '+ 
							 helpers.formatMoney(total, true) +' or more';
			},
			'%d%% discount': '%d%% discount',
			'%d%% off %s+ orders': function (amount, total) {
				return '%d%% off '+ helpers.formatMoney(total, true) +'+ orders';
			},
		},
		
		
		
		/*========================================================================*\
		  Lightbox
		\*========================================================================*/
		lightbox: {
			// Photo Actions =========================================================
			'Buy Image': 'Buy Image',
			'Buy Product': 'Buy Product',
			'In Cart': 'In Cart',
			'Add To Favorites': 'Add To Favorites',
			'Download': 'Download',
			'Share':'Share',
			'Variants': 'Variants',
			'Quantity:' : 'Quantity:',
			'Photo Album Image' : 'Photo Album Image',
			'Print Size:': 'Print Size:',
			
			
			// Buy Form ==============================================================
			'Save this as my default set': 'Save this as my default set',
			'Save as default': 'Save as default',
			'Total:': 'Total:',
			'Cancel': 'Cancel',
			'Remove From Cart': 'Remove From Cart',
			'Add To Cart': 'Add To Cart',
			'Return to Browsing': 'Return to Browsing',
			'Add Note/Instruction for This Item (optional):': 'Add Note/Instruction for This Item (optional):',
			'price' : '$1250.00',
			'%s discount ending %s': function (discount, moment) {
				//get the rounded discount percentage
				discount = (discount.toFixed(1) == Math.round(discount)) ?
							Math.round(discount) :
							discount.toFixed(1);
				return discount +'%% discount ending '+ moment.format('MMM Do');
			},
			'Items from %s onward': function (num) {
				return 'Items from '+ toOrdinal(num) +' onward';
			},
			'%s item': function (num) {
				return toOrdinal(num) +' item';
			},
			
			
			
			// Cropping ==============================================================
			'OK': 'OK',
			'Save': 'Save',
			'Reset': 'Reset',
			'Rotate': 'Rotate',
			'Click to adjust crop': 'Click to adjust crop',
			
			'Got it': 'Got it',
			'$crop-tips-desktop': '<h3>Cropping Tips</h3>'+
					'<p>Apart from dragging the corners, you can use your mouse wheel '+
					'to resize the selected area.</p>'+
					'<p>When you are done, click OK or simply '+
					'right-click on the photo.</p>'+
					'<div class="got-it">Got it</div>',
			
			
			// Slideshow Controls ====================================================
			'Slideshow': 'Slideshow',
			'5 sec.': '5 sec.',
			'Music': 'Music',
		},
	},
};
