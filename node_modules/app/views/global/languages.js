/*==========================================================================*\
  A 'dropdown' with a list of languages 
\*==========================================================================*/
"use strict";

var Parent = require('app/views/base-view');
var i18n = require('app/i18n/i18n');
var popup = require('app/views/global/popup');
// var OptionView = require('./addon-option');

module.exports = Parent.extend({
  autoRender: true,
  template: require('app/templates').global.languages,
  
  // initialize: function () {
  //   Parent.prototype.initialize.apply(this, arguments);
  //   this.render();
  // },
  
  events: {
    'click .language-option': 'onClick',
  },
  
  render: function () {
    this.renderWithTemplate(this);
    // this.renderCollection(this.collection, OptionView, '.options');
  },
  
  onClick: function (e) {
    var target = e.target.closest('.language-option');
    var id = target.getAttribute('data-id');
    i18n.select(id);
    this.render();
    popup.hide();
  },

});
